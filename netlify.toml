# example netlify.toml
[build]
  command = "npm run build"
  publish = "dist"

  ## (optional) Settings for Netlify Dev
  ## https://github.com/netlify/cli/blob/main/docs/netlify-dev.md#project-detection
[dev]
  command = "npm run dev"
  targetPort = 3000
  framework = "vite"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"
  # Use ESM output format for functions
  [functions.node_bundler_config]
    format = "esm"
#  external_node_modules = ["express", "import-fresh"]

# Master game functions load all indexes from Netlify Blobs
# fromToPositionIndexed.json downloaded from eco.json GitHub repo
# Only scores.json still bundled (legacy)

[functions."scoresForFens"] 
   included_files = ["data/scores.json"]

  ## [functions."courses"] 
  ##  included_files = ["dataForLambdas/courseHtml/**/*.html"]

  ## Uncomment to use this redirect for Single Page Applications like create-react-app.
  ## Not needed for static site generators.
  #[[redirects]]
  #  from = "/*"
  #  to = "/index.html"
  #  status = 200

  ## more info on configuring this file: https://www.netlify.com/docs/netlify-toml-reference/
