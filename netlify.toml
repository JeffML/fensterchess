# example netlify.toml
[build]
  command = "npm run build"
  publish = "dist"

  ## (optional) Settings for Netlify Dev
  ## https://github.com/netlify/cli/blob/main/docs/netlify-dev.md#project-detection
[dev]
  command = "npm run dev"
  targetPort = 3000
  framework = "vite"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"
  # Include data files in function bundle (TEMPORARY until eco.json.tooling publishes to GitHub)
  included_files = ["data/fromToPositionIndexed.json"]
  # Use ESM output format for functions
  [functions.node_bundler_config]
    format = "esm"
#  external_node_modules = ["express", "import-fresh"]

# Data sources:
# - Master game indexes: Netlify Blobs (managed by fensterchess.tooling)
# - Opening transitions: TEMPORARY local file (TODO: eco.json GitHub once eco.json.tooling exists)
# - Position scores: eco.json GitHub repo (managed by eco.json.tooling)

  ## [functions."courses"] 
  ##  included_files = ["dataForLambdas/courseHtml/**/*.html"]

  ## Uncomment to use this redirect for Single Page Applications like create-react-app.
  ## Not needed for static site generators.
  #[[redirects]]
  #  from = "/*"
  #  to = "/index.html"
  #  status = 200

  ## more info on configuring this file: https://www.netlify.com/docs/netlify-toml-reference/
